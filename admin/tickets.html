<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tickets</title>

    <!-- Tailwind -->
    <script src="https://unpkg.com/@tailwindcss/browser@4"></script>

    <!-- Daisy UI -->
    <link href="https://cdn.jsdelivr.net/npm/daisyui@4.12.23/dist/full.min.css" rel="stylesheet" type="text/css" />
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">


    <style>
      body{
        font-family: "Poppins", sans-serif;
      }
    </style>
</head>
<body>
  <drawer>
    <div class="drawer">
      <input id="my-drawer" type="checkbox" class="drawer-toggle" />
      <div class="drawer-content">
        <!-- Page content here -->
        <navbar id="navbar"></navbar>
        <main class="p-4">
          <div class="uppercase items-center font-bold mb-4 text-lg">
              <div class="w-full">
                Pending Tickets
              </div>
              <div class="mt-4 font-normal items-center text-sm capitalize md:flex justify-end md:space-x-1">
                <div class="flex items-center space-x-1 mb-1 md:mb-0">
                  <span class="whitespace-nowrap">Sort by</span>
                  <select class="select select-bordered select-sm w-full md:auto">
                    <option selected>Created</option>
                    <option>Modified</option>
                    <option>Status</option>
                  </select>
                </div>
                <a href="/admin/resolved-tickets.html" class="btn btn-sm bg-green-400 hover:bg-green-500 w-full md:w-auto">
                  <!-- <svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>plus</title><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg> -->
                  <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>check-circle-outline</title><path d="M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M12 20C7.59 20 4 16.41 4 12S7.59 4 12 4 20 7.59 20 12 16.41 20 12 20M16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z" /></svg>
                  <span  class="">Resolved Tickets</span>
                </a>
              </div>
          </div>
          <div id="content-loading" class="mx-auto mt-42 text-center hidden">
            <span class="loading loading-ring loading-lg"></span>
          </div>
          <div class="space-y-2 ">          
            <div class="collapse collapse-plus bg-base-200 rounded-md">
              <input type="radio" name="my-accordion-3" />
              <div class="collapse-title text-md font-medium">
                <span class="text-gray-500 text-sm">
                  #12372
                </span>
                <span>
                  Ticket Title
                </span> 
                <span class="rounded-full bg-blue-300 text-xs px-2 py-1">
                  Assigned
                </span>
              </div>
              <div class="collapse-content">
                <p class="text-sm">Ticket description</p>
                <div class="flex justify-end">
                  <button onclick="assign_ticket_modal.showModal()" class="btn btn-sm bg-yellow-300 hover:bg-yellow-400 text-black">Re-assign</button>
                </div>
              </div>
            </div>            
            <div class="collapse collapse-plus bg-base-200 rounded-md">
              <input type="radio" name="my-accordion-3" />
              <div class="collapse-title text-md font-medium">
                <span class="text-gray-500 text-sm">
                  #12389
                </span>
                <span>
                  Ticket Title
                </span> 
                <span class="rounded-full bg-orange-300 text-xs px-2 py-1">
                  Open
                </span>
              </div>
              <div class="collapse-content">
                <p class="text-sm">Ticket description</p>
                <div class="flex justify-end">
                  <button onclick="assign_ticket_modal.showModal()" class="btn btn-sm bg-green-300 hover:bg-green-400 text-black">Assign</button>
                </div>
              </div>
            </div>            
          </div>
        </main>
      </div>

      <dialog id="assign_ticket_modal" class="modal">
        <div class="modal-box">
          <form method="dialog">
            <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">âœ•</button>
          </form>
          <h3 class="text-lg font-bold">Assign</h3>
          <div class="py-4">
            <form action="" method="post" class="space-y-2">
              <label class="form-control w-full">
                <div class="label">
                  <span class="label-text font-bold">Agent</span>
                </div>
                <select class="select select-bordered w-full select-sm">
                  <option disabled selected>Select Agent</option>
                  <option>Joyce Ann Bahia</option>
                  <option>John Edward Ronda</option>
                  <option>Nino De guzman</option>
                  <option>Li Xander Salvador</option>
                </select>
              </label>
              <button type="submit" class="btn bg-green-300 hover:bg-green-400 btn-md w-full">Assign</button>
            </form>
          </div>
        </div>
      </dialog>

      <div class="drawer-side">
        <label for="my-drawer" aria-label="close sidebar" class="drawer-overlay"></label>
          <!-- <img class="h-5 w-5" src="../assets/images/nia-logo.png" alt="" srcset=""> -->
        <ul class="menu bg-base-200 text-base-content min-h-full w-80 p-4">
          <!-- Sidebar content here -->
          <li><a href="/index.html">
            <span><svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-4 w-4"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
            </svg>
          </span>
            Home
          </a></li>
          <li><a>
            <svg class="h-4 w-4"
              viewBox="0 0 24 24"
              fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <title>ticket-outline</title>
              <path d="M4,4A2,2 0 0,0 2,6V10A2,2 0 0,1 4,12A2,2 0 0,1 2,14V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V14A2,2 0 0,1 20,12A2,2 0 0,1 22,10V6A2,2 0 0,0 20,4H4M4,6H20V8.54C18.76,9.25 18,10.57 18,12C18,13.43 18.76,14.75 20,15.46V18H4V15.46C5.24,14.75 6,13.43 6,12C6,10.57 5.24,9.25 4,8.54V6Z" /></svg>
            Tickets</a></li>
          <li><a>
            <svg  xmlns="http://www.w3.org/2000/svg" 
              class="h-4 w-4"
              viewBox="0 0 24 24"
              fill="currentColor">
              <title>frequently-asked-questions</title>
              <path d="M18,15H6L2,19V3A1,1 0 0,1 3,2H18A1,1 0 0,1 19,3V14A1,1 0 0,1 18,15M23,9V23L19,19H8A1,1 0 0,1 7,18V17H21V8H22A1,1 0 0,1 23,9M8.19,4C7.32,4 6.62,4.2 6.08,4.59C5.56,5 5.3,5.57 5.31,6.36L5.32,6.39H7.25C7.26,6.09 7.35,5.86 7.53,5.7C7.71,5.55 7.93,5.47 8.19,5.47C8.5,5.47 8.76,5.57 8.94,5.75C9.12,5.94 9.2,6.2 9.2,6.5C9.2,6.82 9.13,7.09 8.97,7.32C8.83,7.55 8.62,7.75 8.36,7.91C7.85,8.25 7.5,8.55 7.31,8.82C7.11,9.08 7,9.5 7,10H9C9,9.69 9.04,9.44 9.13,9.26C9.22,9.08 9.39,8.9 9.64,8.74C10.09,8.5 10.46,8.21 10.75,7.81C11.04,7.41 11.19,7 11.19,6.5C11.19,5.74 10.92,5.13 10.38,4.68C9.85,4.23 9.12,4 8.19,4M7,11V13H9V11H7M13,13H15V11H13V13M13,4V10H15V4H13Z" /></svg>
            FAQs
          </a></li>
        </ul>
      </div>
    </div>
  </drawer>
    
  <bottom-nav class="md:hidden">
    <div class="btm-nav">
      <a href="/index.html" class="text-success">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor">
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
        </svg>
      </a>
      <button class="text-success active">
        <svg class="h-5 w-5"
        viewBox="0 0 24 24"
        fill="currentColor" xmlns="http://www.w3.org/2000/svg">
        <title>ticket-outline</title><path d="M4,4A2,2 0 0,0 2,6V10A2,2 0 0,1 4,12A2,2 0 0,1 2,14V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V14A2,2 0 0,1 20,12A2,2 0 0,1 22,10V6A2,2 0 0,0 20,4H4M4,6H20V8.54C18.76,9.25 18,10.57 18,12C18,13.43 18.76,14.75 20,15.46V18H4V15.46C5.24,14.75 6,13.43 6,12C6,10.57 5.24,9.25 4,8.54V6Z" /></svg>
      </button>
      <button class="text-success">
        <svg  xmlns="http://www.w3.org/2000/svg" 
        class="h-5 w-5"
        viewBox="0 0 24 24"
        fill="currentColor">
        <title>frequently-asked-questions</title>
        <path d="M18,15H6L2,19V3A1,1 0 0,1 3,2H18A1,1 0 0,1 19,3V14A1,1 0 0,1 18,15M23,9V23L19,19H8A1,1 0 0,1 7,18V17H21V8H22A1,1 0 0,1 23,9M8.19,4C7.32,4 6.62,4.2 6.08,4.59C5.56,5 5.3,5.57 5.31,6.36L5.32,6.39H7.25C7.26,6.09 7.35,5.86 7.53,5.7C7.71,5.55 7.93,5.47 8.19,5.47C8.5,5.47 8.76,5.57 8.94,5.75C9.12,5.94 9.2,6.2 9.2,6.5C9.2,6.82 9.13,7.09 8.97,7.32C8.83,7.55 8.62,7.75 8.36,7.91C7.85,8.25 7.5,8.55 7.31,8.82C7.11,9.08 7,9.5 7,10H9C9,9.69 9.04,9.44 9.13,9.26C9.22,9.08 9.39,8.9 9.64,8.74C10.09,8.5 10.46,8.21 10.75,7.81C11.04,7.41 11.19,7 11.19,6.5C11.19,5.74 10.92,5.13 10.38,4.68C9.85,4.23 9.12,4 8.19,4M7,11V13H9V11H7M13,13H15V11H13V13M13,4V10H15V4H13Z" /></svg>
      </button>
    </div>
  </bottom-nav>
</body>
<script>
    const role = "admin";
    fetch('../components/navbar.html')
        .then(response => response.text())
        .then(data => {
            document.getElementById('navbar').innerHTML = data;

            modifyContent(role);
        });
    
        function modifyContent(role) {
            const adminElements = document.querySelectorAll('[data-role="admin"]');
            const userElements = document.querySelectorAll('[data-role="user"]');

            if(role === "admin") {
                adminElements.forEach(element => {
                    element.classList.remove('hidden');
                });
                
            }else{
                userElements.forEach(element => {
                    element.classList.remove('hidden');
                });
            }
                
        }
</script>
</html>